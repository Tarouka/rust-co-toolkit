dependencies:
  cache_directories:
    - rust-1.18.0-x86_64-unknown-linux-gnu
  pre:
    - >
      if [[ ! -d rust-1.18.0-x86_64-unknown-linux-gnu ]]; then
        wget https://static.rust-lang.org/dist/rust-1.18.0-x86_64-unknown-linux-gnu.tar.gz
        tar xvzf rust-1.18.0-x86_64-unknown-linux-gnu.tar.gz
      fi
    - sudo rust-1.18.0-x86_64-unknown-linux-gnu/install.sh --without=rust-docs

test:
  override:
    - cargo test --verbose